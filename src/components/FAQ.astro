---
import Plus from "lucide-astro/Plus";
import Minus from "lucide-astro/Minus";

const faqItems = [
  {
    question:
      "What's the Cheaper Home Batteries Program, and how does it help me?",
    answer:
      "This Australian government program starts July 1, 2025, and cuts about 30% off the cost of home solar batteries. It helps you store solar power to use later, lowering your electricity bills and supporting a more stable power grid.",
  },
  {
    question: "How much money will I save with the rebate?",
    answer:
      "In 2025, you get about $372 per kwh of battery storage, up to 50 kwh. For a 10 kwh battery, that's roughly $3,300 off after fees. The discount shrinks each year until the program ends in 2030. Don't turn on the battery before July 1, 2025, to qualify!",
  },
  {
    question:
      "Am I eligible to participate in the Cheaper Home Batteries Program?",
    answer:
      "To be eligible, you must install a solar battery system with a nominal capacity of 5 kwh to 100 kwh, paired with a new or existing solar photovoltaic (PV) system, on or after July 1, 2025. The system must be installed by an accredited installer under Solar Accreditation Australia (SAA) and meet state/territory electrical safety requirements.",
  },
  {
    question: "Is it safe to install a solar battery under this program?",
    answer:
      "Yes, safety is a priority. Installers must be accredited by Solar Accreditation Australia (SAA), and the system should be tested to confirm it can store and discharge energy safely. BatterySolarQuotesTM take the guesswork out of choosing accredited SAA accredited installers, ensuring safe and compliant battery installations.",
  },
  {
    question: "Can I use this rebate with other discounts or loans?",
    answer:
      "The federal government intends for the Cheaper Home Batteries Program to be compatible with existing state and territory schemes, potentially allowing 'double-dipping' with other rebates or interest-free loans - meaning its never been cheaper to go solar!",
  },
  {
    question: "How do I get the rebate?",
    answer:
      "Your installer handles the rebate paperwork through the program's certificate system. Use a reputable quote comparison company like BatterySolarQuotesTM to compare quotes, and pick an accredited installer to beat the rush!",
  },
];
---

<div class="bg-white">
  <h2 class="text-4xl font-semibold tracking-tight text-gray-900 sm:text-5xl">
    Solar Battery Rebate FAQs
  </h2>
  <dl class="mt-16 divide-y divide-gray-900/10">
    {
      faqItems.map((item, index) => (
        <div class="py-6 first:pt-0 last:pb-0">
          <dt>
            <button
              type="button"
              class="flex w-full items-start justify-between text-left text-gray-900"
              aria-controls={`faq-${index}`}
              aria-expanded="false"
              id={`faq-button-${index}`}
            >
              <span class="text-base/7 font-semibold">{item.question}</span>
              <span class="ml-6 flex h-7 items-center">
                <Plus class="size-5 " id={`icon-plus-${index}`} />
                <Minus class="size-5 hidden" id={`icon-minus-${index}`} />
              </span>
            </button>
            <dd class="mt-2 pr-12 hidden" id={`faq-${index}`}>
              <p class="text-base/7 text-gray-600">{item.answer}</p>
            </dd>
          </dt>
        </div>
      ))
    }
  </dl>
</div>

<script define:vars={{ faqItems }}>
  document.addEventListener("DOMContentLoaded", function () {
    faqItems.forEach((_, index) => {
      const button = document.getElementById(`faq-button-${index}`);
      const answer = document.getElementById(`faq-${index}`);
      const plusIcon = document.getElementById(`icon-plus-${index}`);
      const minusIcon = document.getElementById(`icon-minus-${index}`);

      if (button && answer && plusIcon && minusIcon) {
        button.addEventListener("click", function () {
          const isExpanded = button.getAttribute("aria-expanded") === "true";

          if (isExpanded) {
            answer.classList.add("hidden");
            plusIcon.classList.remove("hidden");
            minusIcon.classList.add("hidden");
            button.setAttribute("aria-expanded", "false");
          } else {
            answer.classList.remove("hidden");
            plusIcon.classList.add("hidden");
            minusIcon.classList.remove("hidden");
            button.setAttribute("aria-expanded", "true");
          }
        });
      }
    });
  });
</script>
